(()=>{"use strict";var __webpack_modules__={488:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>evaluateMathExpression});const evaluateMathExpression=(expression,t)=>{expression=expression.replace(/t\^(\d+)/g,"Math.pow(t, $1)"),expression=expression.replace(/sin/g,"Math.sin"),expression=expression.replace(/cos/g,"Math.cos");const result=eval(expression);return result}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{const e=e=>{let t=[];for(let r=0;r<e[0].length;r++){t[r]=[];for(let n=0;n<e.length;n++)t[r].push(e[n][r])}return t},t=(e,t)=>{let r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]+t[n];return r},r=(e,t)=>{const r=e.length,n=e[0].length,o=t[0].length;if(n!==t.length)throw new Error("The number of columns in the first matrix must match the number of rows in the second matrix.");const s=[];for(let l=0;l<r;l++){s[l]=[];for(let r=0;r<o;r++){let o=0;for(let s=0;s<n;s++)o+=e[l][s]*t[s][r];s[l][r]=o}}return s},n=(e,t)=>{const r=e.length,n=e[0].length;if(n!==t.length)throw new Error("The number of columns in the matrix must match the length of the vector.");const o=[];for(let s=0;s<r;s++){let r=0;for(let o=0;o<n;o++)r+=e[s][o]*t[o];o[s]=r}return o},o=(e,t)=>{const r=e.length,n=e[0].length,o=[];for(let s=0;s<r;s++){o[s]=[];for(let r=0;r<n;r++)o[s][r]=e[s][r]*t}return o},s=(e,t)=>{const r=[];for(let n=0;n<e.length;n++)r[n]=e[n]*t;return r},l=e=>{const t=e.length,r=Array(t),n=Array(t);for(let o=0;o<t;o++){r[o]=[],n[o]=[];for(let e=0;e<t;e++)r[o][e]=0,n[o][e]=0}for(let o=0;o<t;o++){for(let s=o;s<t;s++){let t=0;for(let e=0;e<o;e++)t+=r[o][e]*n[e][s];n[o][s]=e[o][s]-t}for(let s=o;s<t;s++)if(o===s)r[o][o]=1;else{let t=0;for(let e=0;e<o;e++)t+=r[s][e]*n[e][o];r[s][o]=(e[s][o]-t)/n[o][o]}}return{lower:r,upper:n}},i=(e,t)=>{const r=l(e),n=e.length,o=[],s=[];for(let l=0;l<n;l++){let e=0;for(let t=0;t<l;t++)e+=r.lower[l][t]*o[t];o[l]=(t[l]-e)/r.lower[l][l]}for(let l=n-1;l>=0;l--){let e=0;for(let t=l+1;t<n;t++)e+=r.upper[l][t]*s[t];s[l]=(o[l]-e)/r.upper[l][l]}return s};var c=1e6,f=1e6,u="[big.js] ",a=u+"Invalid ",h=a+"decimal places",p=a+"rounding mode",m=u+"Division by zero",w={},g=void 0,_=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function d(e,t,r,n){var o=e.c;if(r===g&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error(p);if(t<1)n=3===r&&(n||!!o[0])||0===t&&(1===r&&o[0]>=5||2===r&&(o[0]>5||5===o[0]&&(n||o[1]!==g))),o.length=1,n?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(n=1===r&&o[t]>=5||2===r&&(o[t]>5||5===o[t]&&(n||o[t+1]!==g||1&o[t-1]))||3===r&&(n||!!o[0]),o.length=t,n)for(;++o[--t]>9;)if(o[t]=0,0===t){++e.e,o.unshift(1);break}for(t=o.length;!o[--t];)o.pop()}return e}function v(e,t,r){var n=e.e,o=e.c.join(""),s=o.length;if(t)o=o.charAt(0)+(s>1?"."+o.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)o="0"+o;o="0."+o}else if(n>0)if(++n>s)for(n-=s;n--;)o+="0";else n<s&&(o=o.slice(0,n)+"."+o.slice(n));else s>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&r?"-"+o:o}w.abs=function(){var e=new this.constructor(this);return e.s=1,e},w.cmp=function(e){var t,r=this,n=r.c,o=(e=new r.constructor(e)).c,s=r.s,l=e.s,i=r.e,c=e.e;if(!n[0]||!o[0])return n[0]?s:o[0]?-l:0;if(s!=l)return s;if(t=s<0,i!=c)return i>c^t?1:-1;for(l=(i=n.length)<(c=o.length)?i:c,s=-1;++s<l;)if(n[s]!=o[s])return n[s]>o[s]^t?1:-1;return i==c?0:i>c^t?1:-1},w.div=function(e){var t=this,r=t.constructor,n=t.c,o=(e=new r(e)).c,s=t.s==e.s?1:-1,l=r.DP;if(l!==~~l||l<0||l>c)throw Error(h);if(!o[0])throw Error(m);if(!n[0])return e.s=s,e.c=[e.e=0],e;var i,f,u,a,p,w=o.slice(),_=i=o.length,v=n.length,b=n.slice(0,i),E=b.length,x=e,y=x.c=[],k=0,D=l+(x.e=t.e-e.e)+1;for(x.s=s,s=D<0?0:D,w.unshift(0);E++<i;)b.push(0);do{for(u=0;u<10;u++){if(i!=(E=b.length))a=i>E?1:-1;else for(p=-1,a=0;++p<i;)if(o[p]!=b[p]){a=o[p]>b[p]?1:-1;break}if(!(a<0))break;for(f=E==i?o:w;E;){if(b[--E]<f[E]){for(p=E;p&&!b[--p];)b[p]=9;--b[p],b[E]+=10}b[E]-=f[E]}for(;!b[0];)b.shift()}y[k++]=a?u:++u,b[0]&&a?b[E]=n[_]||0:b=[n[_]]}while((_++<v||b[0]!==g)&&s--);return y[0]||1==k||(y.shift(),x.e--,D--),k>D&&d(x,D,r.RM,b[0]!==g),x},w.eq=function(e){return 0===this.cmp(e)},w.gt=function(e){return this.cmp(e)>0},w.gte=function(e){return this.cmp(e)>-1},w.lt=function(e){return this.cmp(e)<0},w.lte=function(e){return this.cmp(e)<1},w.minus=w.sub=function(e){var t,r,n,o,s=this,l=s.constructor,i=s.s,c=(e=new l(e)).s;if(i!=c)return e.s=-c,s.plus(e);var f=s.c.slice(),u=s.e,a=e.c,h=e.e;if(!f[0]||!a[0])return a[0]?e.s=-c:f[0]?e=new l(s):e.s=1,e;if(i=u-h){for((o=i<0)?(i=-i,n=f):(h=u,n=a),n.reverse(),c=i;c--;)n.push(0);n.reverse()}else for(r=((o=f.length<a.length)?f:a).length,i=c=0;c<r;c++)if(f[c]!=a[c]){o=f[c]<a[c];break}if(o&&(n=f,f=a,a=n,e.s=-e.s),(c=(r=a.length)-(t=f.length))>0)for(;c--;)f[t++]=0;for(c=t;r>i;){if(f[--r]<a[r]){for(t=r;t&&!f[--t];)f[t]=9;--f[t],f[r]+=10}f[r]-=a[r]}for(;0===f[--c];)f.pop();for(;0===f[0];)f.shift(),--h;return f[0]||(e.s=1,f=[h=0]),e.c=f,e.e=h,e},w.mod=function(e){var t,r=this,n=r.constructor,o=r.s,s=(e=new n(e)).s;if(!e.c[0])throw Error(m);return r.s=e.s=1,t=1==e.cmp(r),r.s=o,e.s=s,t?new n(r):(o=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=o,n.RM=s,this.minus(r.times(e)))},w.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},w.plus=w.add=function(e){var t,r,n,o=this,s=o.constructor;if(e=new s(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var l=o.e,i=o.c,c=e.e,f=e.c;if(!i[0]||!f[0])return f[0]||(i[0]?e=new s(o):e.s=o.s),e;if(i=i.slice(),t=l-c){for(t>0?(c=l,n=f):(t=-t,n=i),n.reverse();t--;)n.push(0);n.reverse()}for(i.length-f.length<0&&(n=f,f=i,i=n),t=f.length,r=0;t;i[t]%=10)r=(i[--t]=i[t]+f[t]+r)/10|0;for(r&&(i.unshift(r),++c),t=i.length;0===i[--t];)i.pop();return e.c=i,e.e=c,e},w.pow=function(e){var t=this,r=new t.constructor("1"),n=r,o=e<0;if(e!==~~e||e<-1e6||e>f)throw Error(a+"exponent");for(o&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return o?r.div(n):n},w.prec=function(e,t){if(e!==~~e||e<1||e>c)throw Error(a+"precision");return d(new this.constructor(this),e,t)},w.round=function(e,t){if(e===g)e=0;else if(e!==~~e||e<-c||e>c)throw Error(h);return d(new this.constructor(this),e+this.e+1,t)},w.sqrt=function(){var e,t,r,n=this,o=n.constructor,s=n.s,l=n.e,i=new o("0.5");if(!n.c[0])return new o(n);if(s<0)throw Error(u+"No square root");0===(s=Math.sqrt(n+""))||s===1/0?((t=n.c.join("")).length+l&1||(t+="0"),l=((l+1)/2|0)-(l<0||1&l),e=new o(((s=Math.sqrt(t))==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+l)):e=new o(s+""),l=e.e+(o.DP+=4);do{r=e,e=i.times(r.plus(n.div(r)))}while(r.c.slice(0,l).join("")!==e.c.slice(0,l).join(""));return d(e,(o.DP-=4)+e.e+1,o.RM)},w.times=w.mul=function(e){var t,r=this,n=r.constructor,o=r.c,s=(e=new n(e)).c,l=o.length,i=s.length,c=r.e,f=e.e;if(e.s=r.s==e.s?1:-1,!o[0]||!s[0])return e.c=[e.e=0],e;for(e.e=c+f,l<i&&(t=o,o=s,s=t,f=l,l=i,i=f),t=new Array(f=l+i);f--;)t[f]=0;for(c=i;c--;){for(i=0,f=l+c;f>c;)i=t[f]+s[c]*o[f-c-1]+i,t[f--]=i%10,i=i/10|0;t[f]=i}for(i?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},w.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==g){if(e!==~~e||e<0||e>c)throw Error(h);for(r=d(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return v(r,!0,!!n)},w.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==g){if(e!==~~e||e<0||e>c)throw Error(h);for(e=e+(r=d(new r.constructor(r),e+r.e+1,t)).e+1;r.c.length<e;)r.c.push(0)}return v(r,!1,!!n)},w[Symbol.for("nodejs.util.inspect.custom")]=w.toJSON=w.toString=function(){var e=this,t=e.constructor;return v(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},w.toNumber=function(){var e=Number(v(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(u+"Imprecise conversion");return e},w.toPrecision=function(e,t){var r=this,n=r.constructor,o=r.c[0];if(e!==g){if(e!==~~e||e<1||e>c)throw Error(a+"precision");for(r=d(new n(r),e,t);r.c.length<e;)r.c.push(0)}return v(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!o)},w.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(u+"valueOf disallowed");return v(e,e.e<=t.NE||e.e>=t.PE,!0)};var b=function e(){function t(r){var n=this;if(!(n instanceof t))return r===g?e():new t(r);if(r instanceof t)n.s=r.s,n.e=r.e,n.c=r.c.slice();else{if("string"!==typeof r){if(!0===t.strict&&"bigint"!==typeof r)throw TypeError(a+"value");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,n,o;if(!_.test(t))throw Error(a+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".",""));(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length);for(o=t.length,n=0;n<o&&"0"==t.charAt(n);)++n;if(n==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=r-n-1,e.c=[],r=0;n<=o;)e.c[r++]=+t.charAt(n++)}}(n,r)}n.constructor=t}return t.prototype=w,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();const E=b,x=(e,t)=>{const r=e.length,n=e[0].length,o=[];for(let s=0;s<r;s++){o[s]=[];for(let r=0;r<n;r++)o[s][r]=e[s][r].mul(t)}return o},y=(e,t)=>{let r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n].plus(t[n]);return r},k=(e,t)=>{const r=[];for(let n=0;n<e.length;n++)r[n]=e[n].mul(t);return r},D=(e,t)=>{const r=e.length,n=e[0].length;if(n!==t.length)throw new Error("The number of columns in the matrix must match the length of the vector.");const o=[];for(let s=0;s<r;s++){let r=new E(0);for(let o=0;o<n;o++)r=r.plus(e[s][o].mul(t[o]));o[s]=r}return o},N=(e,t)=>{const r=M(e),n=e.length,o=[],s=[];for(let l=0;l<n;l++){let e=new E(0);for(let t=0;t<l;t++)e=e.plus(r.lower[l][t].mul(o[t]));o[l]=t[l].minus(e).div(r.lower[l][l])}for(let l=n-1;l>=0;l--){let e=new E(0);for(let t=l+1;t<n;t++)e=e.plus(r.upper[l][t].mul(s[t]));s[l]=o[l].minus(e).div(r.upper[l][l])}return s},M=e=>{const t=e.length,r=Array(t),n=Array(t);for(let o=0;o<t;o++){r[o]=[],n[o]=[];for(let e=0;e<t;e++)r[o][e]=new E(0),n[o][e]=new E(0)}for(let o=0;o<t;o++){for(let s=o;s<t;s++){let t=new E(0);for(let e=0;e<o;e++)t=t.plus(r[o][e].mul(n[e][s]));n[o][s]=e[o][s].minus(t)}for(let s=o;s<t;s++)if(o===s)r[o][o]=1;else{let t=0;for(let e=0;e<o;e++)t+=r[s][e]*n[e][o];r[s][o]=e[s][o].minus(t).div(n[o][o])}}return{lower:r,upper:n}};var A=__webpack_require__(488);const q=e=>{let t=[];for(let r=0;r<e.length;r++)t[r]=new E(e[r]);return t},P=e=>{let t=[];for(let r=0;r<e.length;r++)t[r]=e[r].toNumber();return t},O=e=>{let t=[];for(let r=0;r<e.length;r++){t[r]=[];for(let n=0;n<e.length;n++)t[r][n]=new E(e[r][n])}return t},j=(e,t)=>{let r=t.assembly.nsets.find((t=>t.setname==e));if(!r)throw new Error("Set not found");return r.nodes},S=(e,t)=>(t.steps[0].boundaries.temperature.forEach((r=>{let n=r.setName,o=t.assembly.nsets.find((e=>e.setname==n));if(!o)throw new Error("Nset not found");o.nodes.forEach((t=>{for(let r=0;r<e.length;r++)r!=t-1&&(e[t-1][r]=0)}))})),e),R=(e,t)=>(t.steps[0].boundaries.temperature.forEach((r=>{let n=r.setName,o=t.assembly.nsets.find((e=>e.setname==n));if(!o)throw new Error("Nset not found");o.nodes.forEach((t=>{for(let r=0;r<e.length;r++)r!=t-1&&(e[r][t-1]=0)}))})),e),T=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[];for(let o=0;o<e.length;o++)n.push(0);return t.steps[0].boundaries.temperature.forEach((o=>{let s=o.setName,l=t.assembly.nsets.find((e=>e.setname==s));if(!l)throw new Error("Nset not found");console.log(o.temperature);let i=(0,A._)(o.temperature.toString(),r);l.nodes.forEach((t=>{n[t-1]=e[t-1][t-1]*i;for(let r=0;r<n.length;r++)r!=t-1&&(n[r]-=e[r][t-1]*i)}))})),n},I=(e,t,r,n)=>{var o;let s=r.find((t=>-1!=t.elements.indexOf(e)));if(!s)throw new Error("Element not in elset");let l=s.setname,i=n.find((e=>e.elsetName==l));if(!i)throw new Error("Elset not in section");return null!==(o=t[i.name])&&void 0!==o?o:0},H=(e,t,r,n)=>{var o;let s=r.find((t=>-1!=t.elements.indexOf(e)));if(!s)throw new Error("Element not in elset");let l=s.setname,i=n.find((e=>e.elsetName==l));if(!i)throw new Error("Elset not in section");return null!==(o=t[i.name])&&void 0!==o?o:0},U=(e,t,r,n)=>{var o;let s=r.find((t=>-1!=t.elements.indexOf(e)));if(!s)throw new Error("Element not in elset");let l=s.setname,i=n.find((e=>e.elsetName==l));if(!i)throw new Error("Elset not in section");return null!==(o=t[i.name])&&void 0!==o?o:0},$=(t,n)=>{let s=t.problemData[0].nodes,l=t.problemData[0].elements,i=new Array(s.length);for(let e=0;e<i.length;e++)i[e]=new Array(s.length).fill(0);for(let c=0;c<l.length;c++){let f=I(l[c][0],n,t.problemData[0].lsets,t.problemData[0].sections),u=[[f,0],[0,f]],a=s[l[c][1]-1][1],h=s[l[c][1]-1][2],p=s[l[c][2]-1][1],m=s[l[c][2]-1][2],w=s[l[c][3]-1][1],g=s[l[c][3]-1][2],_=m-g,d=g-h,v=h-m,b=w-p,E=a-w,x=p-a,y=.5*Math.abs(a*(m-g)+p*(g-h)+w*(h-m)),k=[[_,d,v],[b,E,x]],D=o(r(r(e(k),u),k),1/4*y);i=C(i,D,l[c][1],l[c][2],l[c][3])}return i},z=(e,t,r)=>{let n=e.problemData[0].nodes,o=e.problemData[0].elements,s=new Array(n.length);for(let l=0;l<s.length;l++)s[l]=new Array(n.length).fill(0);for(let l=0;l<o.length;l++){let i=H(o[l][0],t,e.problemData[0].lsets,e.problemData[0].sections),c=U(o[l][0],r,e.problemData[0].lsets,e.problemData[0].sections),f=[[n[o[l][1]-1][1],n[o[l][1]-1][2]],[n[o[l][2]-1][1],n[o[l][2]-1][2]],[n[o[l][3]-1][1],n[o[l][3]-1][2]]],u=B(f,i,c);s=C(s,u,o[l][1],o[l][2],o[l][3])}return s},B=(e,t,r)=>{let n=e[0][0],s=e[0][1],l=e[1][0],i=e[1][1],c=e[2][0],f=e[2][1],u=.5*Math.abs(n*(i-f)+l*(f-s)+c*(s-i));return o([[2,1,1],[1,2,1],[1,1,2]],t*r/12*u)},C=(e,t,r,n,o)=>(n--,o--,e[--r][r]+=t[0][0],e[n][n]+=t[1][1],e[o][o]+=t[2][2],e[r][n]+=t[0][1],e[n][r]+=t[1][0],e[r][o]+=t[0][2],e[o][r]+=t[2][0],e[n][o]+=t[1][2],e[o][n]+=t[2][1],e),F=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(let o=0;o<r.length;o++){let s=r[o],l=j(s.setName,t),i=(0,A._)(s.temperature.toString(),n);for(let t=0;t<l.length;t++){e[l[t]-1]=i}}return e},J=(e,t,r)=>{for(let n=0;n<r.length;n++){let o=r[n],s=j(o.setName,t);for(let t=0;t<s.length;t++){e[s[t]-1]=new E(o.temperature)}}return e};onmessage=function(e){let r=e.data.inpData,l=e.data.temperature_BC,c=e.data.blocks_termal_conductivity,f=e.data.blocks_density,u=e.data.blocks_specific_heat,a=e.data.initialTemp,h=e.data.stepIncrement,p=e.data.steps;try{var m=function(e,r,l,c,f,u){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.1,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:500,m=arguments.length>9&&void 0!==arguments[9]&&arguments[9];E.DP=60;let w=1/h,g=$(e,l),_=z(e,c,f),d=S(g,e),v=T(d,e);g=R(d,e),null===u&&(u=(e,t)=>{console.log("progress: "+e+"%")});let b=[],M=[];for(let t=0;t<v.length;t++)b.push(a);b=F(b,e,r);let A=[];A.push(b);let j=0,I=0;if(m){let t=O(_),n=O(g),o=new E(w),s=q(v),l=q(b),i=[];for(let c=0;c<p;c++){let c=x(t,o),f=y(y(s,k(D(n,l),new E(-1))),k(D(t,l),o)),a=N(c,f);i=J(a,e,r);let h=P(i);A.push(h),l=i,j+=100/p,u(j,h)}}else for(let E=0;E<p;E++){v=T(d,e,I);let l=o(_,w),c=t(t(v,s(n(g,b),-1)),s(n(_,b),w)),f=i(l,c);M=F(f,e,r,I),A.push(M),b=M,j+=100/p,u(j,M),I+=h}return A}(r,l,c,f,u,G,a,h,p)}catch(w){postMessage({action:"error",result:w})}postMessage({action:"done",result:m})};const G=(e,t)=>{postMessage({action:"progress",result:e,temp:t})}})()})();
//# sourceMappingURL=491.c27f9213.chunk.js.map