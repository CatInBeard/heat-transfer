(()=>{"use strict";var __webpack_modules__={893:(e,t,r)=>{const n=e=>{let t=[];for(let r=0;r<e[0].length;r++){t[r]=[];for(let n=0;n<e.length;n++)t[r].push(e[n][r])}return t},o=(e,t)=>{let r=new Array(e[0].length);for(let n=0;n<e.length;n++){r[n]=new Array(e[0].length);for(let o=0;o<e[0].length;o++)r[n][o]=e[n][o]+t[n][o]}return r},_=(e,t)=>{let r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]+t[n];return r},l=(e,t)=>{const r=e.length,n=e[0].length,o=t[0].length;if(n!==t.length)throw new Error("The number of columns in the first matrix must match the number of rows in the second matrix.");const _=[];for(let l=0;l<r;l++){_[l]=[];for(let r=0;r<o;r++){let o=0;for(let _=0;_<n;_++)o+=e[l][_]*t[_][r];_[l][r]=o}}return _},s=(e,t)=>{const r=e.length,n=e[0].length;if(n!==t.length)throw new Error("The number of columns in the matrix must match the length of the vector.");const o=[];for(let _=0;_<r;_++){let r=0;for(let o=0;o<n;o++)r+=e[_][o]*t[o];o[_]=r}return o},a=(e,t)=>{const r=e.length,n=e[0].length,o=[];for(let _=0;_<r;_++){o[_]=[];for(let r=0;r<n;r++)o[_][r]=e[_][r]*t}return o},i=(e,t)=>{const r=[];for(let n=0;n<e.length;n++)r[n]=e[n]*t;return r};function c(e){if(!function(e){const t=e.length;for(let r=0;r<t;r++)if(e[r].length!==t)return!1;return!0}(e))throw new Error("Matrix must be square");const t=o(e);if(0===t)throw new Error("Matrix has 0 det");const r=function(e){const t=[];for(let r=0;r<e.length;r++){t[r]=[];for(let n=0;n<e[r].length;n++)t[r][n]=(-1)**(r+n)*o(_(e,r,n))}return t}(e),n=function(e){const t=[];for(let r=0;r<e[0].length;r++){t[r]=[];for(let n=0;n<e.length;n++)t[r][n]=e[n][r]}return t}(r);for(let l=0;l<e.length;l++)for(let r=0;r<e[l].length;r++)n[l][r]/=t;return n;function o(e){if(1===e.length)return e[0][0];let t=0;for(let r=0;r<e.length;r++)t+=e[0][r]*o(_(e,0,r))*(-1)**r;return t}function _(e,t,r){const n=[];for(let o=0;o<e.length;o++)o!==t&&n.push(e[o].filter(((e,t)=>t!=r)));return n}}const u=e=>{const t=e.length,r=Array(t),n=Array(t);for(let o=0;o<t;o++){r[o]=[],n[o]=[];for(let e=0;e<t;e++)r[o][e]=0,n[o][e]=0}for(let o=0;o<t;o++){for(let _=o;_<t;_++){let t=0;for(let e=0;e<o;e++)t+=r[o][e]*n[e][_];n[o][_]=e[o][_]-t}for(let _=o;_<t;_++)if(o===_)r[o][o]=1;else{let t=0;for(let e=0;e<o;e++)t+=r[_][e]*n[e][o];r[_][o]=(e[_][o]-t)/n[o][o]}}return{lower:r,upper:n}},p=(e,t)=>{const r=u(e),n=e.length,o=[],_=[];for(let l=0;l<n;l++){let e=0;for(let t=0;t<l;t++)e+=r.lower[l][t]*o[t];o[l]=(t[l]-e)/r.lower[l][l]}for(let l=n-1;l>=0;l--){let e=0;for(let t=l+1;t<n;t++)e+=r.upper[l][t]*_[t];_[l]=(o[l]-e)/r.upper[l][l]}return _};var f=r(488),h=r(536);const w=(e,t,r,n,o,l,c,u,f,h,w,b,d)=>{let m=0,g=0;for(let v=0;v<e;v++){u=k(t,r,g);let v=a(n,o),E=_(_(u,i(s(l,c),-1)),i(s(n,c),o)),q=p(v,E);M(q,r,h,g),f=q,w.push(f),c=f,m+=100/e,b(m,f),g+=d}},b=(e,t,r,n,l,c,u,f,w,b,d,m,g)=>{let v=0,E=0,q=(0,h.cloneDeep)(f);for(let x=0;x<e;x++){f=k(t,r,E);let l=o(n,a(c,g/2)),x=_(s(o(n,a(c,-1*g/2)),u),i(_(q,f),g/2)),y=p(l,x);M(y,r,b,E),w=y,d.push(w),u=w,v+=100/e,m(v,w),E+=g,q=(0,h.cloneDeep)(f)}},d=(e,t)=>{let r=t.assembly.nsets.find((t=>t.setname==e));if(!r)throw new Error("Set not found");return r.nodes},m=(e,t)=>(t.steps[0].boundaries.temperature.forEach((r=>{let n=r.setName,o=t.assembly.nsets.find((e=>e.setname==n));if(!o)throw new Error("Nset not found");o.nodes.forEach((t=>{for(let r=0;r<e.length;r++)r!=t-1&&(e[t-1][r]=0)}))})),e),g=(e,t)=>(t.steps[0].boundaries.temperature.forEach((r=>{let n=r.setName,o=t.assembly.nsets.find((e=>e.setname==n));if(!o)throw new Error("Nset not found");o.nodes.forEach((t=>{for(let r=0;r<e.length;r++)r!=t-1&&(e[r][t-1]=0)}))})),e),k=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[];for(let o=0;o<e.length;o++)n.push(0);return t.steps[0].boundaries.temperature.forEach((o=>{let _=o.setName,l=t.assembly.nsets.find((e=>e.setname==_));if(!l)throw new Error("Nset not found");let s=(0,f._)(o.temperature.toString(),r);l.nodes.forEach((t=>{n[t-1]=e[t-1][t-1]*s}))})),t.steps[0].boundaries.temperature.forEach((o=>{let _=o.setName,l=t.assembly.nsets.find((e=>e.setname==_));if(!l)throw new Error("Nset not found");let s=(0,f._)(o.temperature.toString(),r);l.nodes.forEach((t=>{for(let r=0;r<n.length;r++)r!=t-1&&(n[r]-=e[r][t-1]*s)}))})),n},v=(e,t,r,n)=>{var o;let _=r.find((t=>-1!=t.elements.indexOf(e)));if(!_)throw new Error("Element not in elset");let l=_.setname,s=n.find((e=>e.elsetName==l));if(!s)throw new Error("Elset not in section");return null!==(o=t[s.name])&&void 0!==o?o:0},E=(e,t,r,n)=>{var o;let _=r.find((t=>-1!=t.elements.indexOf(e)));if(!_)throw new Error("Element not in elset");let l=_.setname,s=n.find((e=>e.elsetName==l));if(!s)throw new Error("Elset not in section");return null!==(o=t[s.name])&&void 0!==o?o:0},q=(e,t,r,n)=>{var o;let _=r.find((t=>-1!=t.elements.indexOf(e)));if(!_)throw new Error("Element not in elset");let l=_.setname,s=n.find((e=>e.elsetName==l));if(!s)throw new Error("Elset not in section");return null!==(o=t[s.name])&&void 0!==o?o:0},x=(e,t)=>{let r=e.problemData[0].nodes,o=e.problemData[0].elements,_=new Array(r.length);for(let n=0;n<_.length;n++)_[n]=new Array(r.length).fill(0);for(let s=0;s<o.length;s++){let i=v(o[s][0],t,e.problemData[0].lsets,e.problemData[0].sections),u=[[i,0],[0,i]],p=r[o[s][1]-1][1],f=r[o[s][1]-1][2],h=r[o[s][2]-1][1],w=r[o[s][2]-1][2],b=r[o[s][3]-1][1],d=r[o[s][3]-1][2],m=c([[1,p,f],[1,h,w],[1,b,d]]);m.shift();let g=.5*Math.abs(p*(w-d)+h*(d-f)+b*(f-w)),k=a(l(l(n(m),u),m),g);_=D(_,k,o[s][1],o[s][2],o[s][3])}return _};const y=(e,t,r)=>{let n=e.problemData[0].nodes,o=e.problemData[0].elements,_=new Array(n.length);for(let l=0;l<_.length;l++)_[l]=new Array(n.length).fill(0);for(let l=0;l<o.length;l++){let s=E(o[l][0],t,e.problemData[0].lsets,e.problemData[0].sections),a=q(o[l][0],r,e.problemData[0].lsets,e.problemData[0].sections),i=[[n[o[l][1]-1][1],n[o[l][1]-1][2]],[n[o[l][2]-1][1],n[o[l][2]-1][2]],[n[o[l][3]-1][1],n[o[l][3]-1][2]]],c=O(i,s,a);_=D(_,c,o[l][1],o[l][2],o[l][3])}return _},O=(e,t,r)=>{let n=e[0][0],o=e[0][1],_=e[1][0],l=e[1][1],s=e[2][0],i=e[2][1],c=.5*Math.abs(n*(l-i)+_*(i-o)+s*(o-l));return a([[2,1,1],[1,2,1],[1,1,2]],t*r/12*c)},D=(e,t,r,n,o)=>(n--,o--,e[--r][r]+=t[0][0],e[n][n]+=t[1][1],e[o][o]+=t[2][2],e[r][n]+=t[0][1],e[n][r]+=t[1][0],e[r][o]+=t[0][2],e[o][r]+=t[2][0],e[n][o]+=t[1][2],e[o][n]+=t[2][1],e),M=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(let o=0;o<r.length;o++){let _=r[o],l=d(_.setName,t),s=(0,f._)(_.temperature.toString(),n);for(let t=0;t<l.length;t++){e[l[t]-1]=s}}return e};self.addEventListener("message",(e=>{let t=e.data.inpData,r=e.data.temperature_BC,n=e.data.blocks_termal_conductivity,o=e.data.blocks_density,_=e.data.blocks_specific_heat,l=e.data.initialTemp,s=e.data.stepIncrement,a=e.data.steps,i=e.data.method,c=[];try{c=function(e,t,r,n,o,_){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.1,a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:500,i=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"forward",c=1/s,u=x(e,r),p=y(e,n,o),f=m(u,e),d=k(f,e);u=(0,h.cloneDeep)(f),u=g(u,e),null===_&&(_=(e,t)=>{console.log("progress: "+e+"%")});let v=[],E=[];for(let h=0;h<d.length;h++)v.push(l);v=M(v,e,t);let q=[];q.push(v),"crank-nicolson"===i?b(a,f,e,p,c,u,v,d,E,t,q,_,s):w(a,f,e,p,c,u,v,d,E,t,q,_,s);return q}(t,r,n,o,_,A,l,s,a,i)}catch(u){postMessage({action:"error",result:u})}postMessage({action:"done",result:c})}));const A=(e,t)=>{postMessage({action:"progress",result:e,temp:t})}},488:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>evaluateMathExpression});var _table__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(430);const evaluateMathExpression=(expression,t)=>{const lines=expression.split("\n");if(lines.length>2&&lines[0].includes(",")){const e=(0,_table__WEBPACK_IMPORTED_MODULE_0__.C)(expression),r=(0,_table__WEBPACK_IMPORTED_MODULE_0__.k)(e,t);return r}expression=expression.replace(/t\^(\d+)/g,"Math.pow(t, $1)"),expression=expression.replace(/sin/g,"Math.sin"),expression=expression.replace(/cos/g,"Math.cos");const result=eval(expression);return result}},430:(e,t,r)=>{r.d(t,{C:()=>n,k:()=>o});const n=e=>{const t=e.split("\n"),r=[];for(let n=0;n<t.length;n++){const[e,o]=t[n].split(",");r[parseFloat(e)]=parseFloat(o)}return r};function o(e,t){const r=Object.keys(e).sort(((e,t)=>e-t)),n=e[r[0]];if(t<=0||t<=parseFloat(r[0]))return n;const o=Object.keys(e).map((e=>parseFloat(e))),_=o.find((e=>e<=t)),l=o.find((e=>e>=t));if(void 0===_)return e[o[0]];if(void 0===l)return e[o[o.length-1]];const s=e[_],a=e[l],i=(t-_)/(l-_);return(1-i)*s+i*a}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.x=()=>{var e=__webpack_require__.O(void 0,[536],(()=>__webpack_require__(893)));return e=__webpack_require__.O(e)},(()=>{var e=[];__webpack_require__.O=(t,r,n,o)=>{if(!r){var _=1/0;for(i=0;i<e.length;i++){r=e[i][0],n=e[i][1],o=e[i][2];for(var l=!0,s=0;s<r.length;s++)(!1&o||_>=o)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](r[s])))?r.splice(s--,1):(l=!1,o<_&&(_=o));if(l){e.splice(i--,1);var a=n();void 0!==a&&(t=a)}}return t}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[r,n,o]}})(),__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".c57e7181.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="/heat-transfer/",(()=>{var e={893:1};__webpack_require__.f.i=(t,r)=>{e[t]||importScripts(__webpack_require__.p+__webpack_require__.u(t))};var t=self.webpackChunkheat_transfer=self.webpackChunkheat_transfer||[],r=t.push.bind(t);t.push=t=>{var n=t[0],o=t[1],_=t[2];for(var l in o)__webpack_require__.o(o,l)&&(__webpack_require__.m[l]=o[l]);for(_&&_(__webpack_require__);n.length;)e[n.pop()]=1;r(t)}})(),(()=>{var e=__webpack_require__.x;__webpack_require__.x=()=>__webpack_require__.e(536).then(e)})();var __webpack_exports__=__webpack_require__.x()})();
//# sourceMappingURL=893.cdd4fb52.chunk.js.map